package gui.controls{	import flash.display.Sprite;	import flash.events.MouseEvent;	public class VerticalScrollBar extends VerticalSlider	{		protected static const ARROWS_BG_COLOR = 0x666666;		protected static const ARROWS_SIZE = 10;		protected static const SCROLL_SPEED = .1;				protected var _upArrow = new Sprite();		protected var _downArrow = new Sprite();				protected var _autoHide = true;				public function get autoHide():Boolean { return _autoHide; }		public function set autoHide(value:Boolean):void {			_autoHide = value;		}				protected function get isNeeded():Boolean {			return _height < maximum;		}		/**		 * Overridings of <code>VerticalSlider</code>		 */		override protected function get markerMinimum():Number { return ARROWS_SIZE; }		override protected function get markerMaximum():Number { return _height - ARROWS_SIZE; }				/**		 * Constructor. Creates new instance of <code>VerticalScrollBar</code>		 * 		 * @param	w		Width in pixels of current control.		 * @param	h		Height in pixels of current control.		 */		 public function VerticalScrollBar(w:Number = 0, h:Number = 0) {			super(w, h);			_upArrow.addEventListener(MouseEvent.MOUSE_DOWN, arrow_onMouseDown);			_downArrow.addEventListener(MouseEvent.MOUSE_DOWN, arrow_onMouseDown);			addChild(_upArrow);			addChild(_downArrow);		}				// executes when the up arrow is pressed		protected function arrow_onMouseDown(e:MouseEvent):void		{			var dir = (e.target == _upArrow) ? -1 : 1;			percent += dir * SCROLL_SPEED;		}				override public function draw():void {			super.draw();						_upArrow.graphics.clear();			_upArrow.graphics.beginFill(ARROWS_BG_COLOR);			_upArrow.graphics.drawRect(0, 0, _width, ARROWS_SIZE);			_upArrow.graphics.endFill();						_downArrow.graphics.clear();			_downArrow.graphics.beginFill(ARROWS_BG_COLOR);			_downArrow.graphics.drawRect(0, 0, _width, ARROWS_SIZE);			_downArrow.graphics.endFill();						_downArrow.y = _height - _downArrow.height;						hideIfNotNeeded();		}				protected function hideIfNotNeeded():void {			if(autoHide) this.visible = isNeeded;		}	}}